<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ - Prumysl</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            --primary: #e6b800;
            --dark: #222;
            --gray: #f4f4f4;
            --text: #444;
            --success: #28a745;
            --whatsapp: #25D366;
            --urgent-bg: #ffeaea;
            --urgent-text: #d9534f;
            --header-height: 60px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: #fcfcfc; 
            color: var(--text); 
            overflow-x: hidden; 
            padding-bottom: 100px; /* Space for mobile sticky bar */
        }
        
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; }

        /* --- HEADER --- */
        .floating-header {
            position: fixed; top: 0; left: 0; right: 0; 
            height: var(--header-height); 
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px); z-index: 1000; 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 20px; 
            border-bottom: 1px solid #eee;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .logo { font-weight: 900; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 1px; color: var(--dark); }
        .back-btn { font-weight: 700; font-size: 0.9rem; color: var(--dark); display: flex; align-items: center; gap: 5px; }
        .back-btn span { display: none; } /* Hide text on small mobiles if needed, show via media query */
        @media (min-width: 400px) { .back-btn span { display: inline; } }

        /* --- BREADCRUMBS --- */
        .breadcrumbs {
            max-width: 1200px; margin: calc(var(--header-height) + 20px) auto 20px; padding: 0 20px;
            font-size: 0.85rem; color: #888;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .breadcrumbs span { color: var(--dark); font-weight: 600; }

        /* --- MAIN LAYOUT --- */
        .product-container {
            max-width: 1200px; margin: 0 auto 40px; padding: 0 20px;
            display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 40px; align-items: start;
        }

        /* --- GALLERY SECTION (Mobile Optimized) --- */
        .product-gallery { position: relative; }
        
        .main-img-wrap {
            width: 100%; height: 400px; /* Desktop default */
            border-radius: 12px; overflow: hidden;
            border: 1px solid #eee; margin-bottom: 15px; position: relative;
            background: #fff;
            display: flex; align-items: center; justify-content: center;
        }
        .main-img {
            max-width: 100%; max-height: 100%; width: auto; height: auto;
            object-fit: contain; transition: transform 0.5s ease;
        }
        
        /* Mobile Horizontal Scroll Thumbs */
        .thumbnails { 
            display: flex; gap: 10px; 
            overflow-x: auto; padding-bottom: 5px; /* Scrollbar space */
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch; /* Smooth scroll iOS */
        }
        .thumbnails::-webkit-scrollbar { height: 4px; }
        .thumbnails::-webkit-scrollbar-thumb { background: #ddd; border-radius: 4px; }
        
        .thumb {
            width: 80px; height: 80px; flex-shrink: 0;
            object-fit: contain; border-radius: 8px; cursor: pointer;
            border: 2px solid #eee; opacity: 0.7; transition: 0.3s; background: #fff;
        }
        .thumb:hover, .thumb.active { border-color: var(--primary); opacity: 1; }

        /* --- PRODUCT INFO --- */
        .product-info { padding-top: 5px; }
        .product-category { color: var(--primary); font-weight: 700; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }
        .product-title { font-size: 1.8rem; font-weight: 900; margin: 5px 0 10px; line-height: 1.3; color: var(--dark); }
        
        .reviews-summary { display: flex; align-items: center; gap: 8px; margin-bottom: 15px; font-size: 0.85rem; color: #666; }
        .stars { color: #ffc107; letter-spacing: 1px; }

        /* Price */
        .price-box { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .current-price { font-size: 2rem; font-weight: 900; color: var(--dark); }
        .old-price { text-decoration: line-through; color: #999; font-size: 1.2rem; }
        .discount-tag { 
            background: #ffeaea; color: #d9534f; padding: 4px 10px; 
            border-radius: 6px; font-weight: 700; font-size: 0.8rem; 
            display: inline-block;
        }

        /* Countdown */
        .timer-box {
            background-color: var(--urgent-bg); color: var(--urgent-text);
            padding: 12px; border-radius: 8px; margin-bottom: 20px;
            font-weight: 700; font-size: 0.9rem;
            display: flex; align-items: center; justify-content: space-between; gap: 10px;
            border: 1px solid #ffcccc;
        }
        .countdown-digits { font-family: monospace; font-size: 1.1rem; font-weight: 800; background: rgba(255,255,255,0.5); padding: 2px 6px; border-radius: 4px; }

        /* Description */
        .product-short-desc { line-height: 1.6; color: #555; margin-bottom: 25px; font-size: 1rem; }

        /* --- ORDER CARD --- */
        .order-card {
            background: white; padding: 20px; border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); border: 2px solid var(--primary);
            scroll-margin-top: 80px; /* IMPORTANT: Prevents header from covering form */
        }
        .order-header { text-align: center; margin-bottom: 20px; border-bottom: 1px dashed #ddd; padding-bottom: 15px; }
        .order-header h4 { font-weight: 800; color: var(--dark); margin-bottom: 5px; font-size: 1.1rem; }
        
        .form-group { margin-bottom: 15px; }
        .form-input {
            width: 100%; padding: 14px; border: 1px solid #ddd; border-radius: 8px;
            font-family: inherit; font-size: 16px; /* IMPORTANT: Prevents iOS Zoom */
            background: #fcfcfc; transition: 0.3s;
        }
        .form-input:focus { border-color: var(--primary); background: #fff; outline: none; }
        
        .submit-btn {
            width: 100%; background: var(--dark); color: white; padding: 16px;
            font-size: 1.1rem; font-weight: 700; border: none; border-radius: 8px;
            cursor: pointer; transition: 0.3s; display: flex; justify-content: center; align-items: center; gap: 10px;
        }
        .submit-btn:active { transform: scale(0.98); }

        /* Trust Icons */
        .trust-icons { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; text-align: center; }
        .t-icon { font-size: 0.75rem; color: #666; display: flex; flex-direction: column; align-items: center; gap: 5px; }

        /* --- MOBILE STICKY BAR --- */
        .mobile-sticky-bar {
            display: none; /* Hidden on Desktop */
            position: fixed; bottom: 0; left: 0; right: 0; 
            background: white; padding: 12px 15px; 
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1); z-index: 1000;
            justify-content: space-between; align-items: center; gap: 15px;
            padding-bottom: max(12px, env(safe-area-inset-bottom)); /* iPhone X fix */
        }
        .m-price-box { display: flex; flex-direction: column; }
        .m-price-label { font-size: 0.75rem; color: #888; }
        .m-price { font-size: 1.2rem; font-weight: 900; color: var(--dark); line-height: 1; }
        
        .m-actions { display: flex; gap: 10px; flex: 1; justify-content: flex-end; }
        .m-btn { 
            background: var(--primary); color: #000; padding: 12px 20px; 
            border-radius: 8px; font-weight: 700; text-align: center; flex: 1;
            font-size: 1rem; box-shadow: 0 4px 10px rgba(230, 184, 0, 0.3);
        }
        .m-wa-btn { 
            background: #25D366; color: white; width: 48px; height: 48px;
            border-radius: 8px; display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
        }
        .m-wa-btn svg { width: 24px; height: 24px; fill: white; }

        /* --- RESPONSIVE MEDIA QUERIES --- */
        @media (max-width: 900px) {
            .product-container { grid-template-columns: 1fr; gap: 25px; padding: 0 15px; }
            .main-img-wrap { height: 350px; }
            
            /* Typography Adjustments */
            .product-title { font-size: 1.5rem; }
            .current-price { font-size: 1.8rem; }
            
            /* Hide Desktop WA Button in form since we have Sticky Bar */
            .wa-order-btn { display: none; } 
            
            /* Show Sticky Bar */
            .mobile-sticky-bar { display: flex; }
            
            /* Adjust Popup Position */
            .sales-popup { bottom: 90px; right: 10px; left: 10px; width: auto; max-width: none; }
            .whatsapp-float { bottom: 90px; }
        }

        /* --- TABS & RELATED --- */
        .tabs-container { max-width: 1200px; margin: 0 auto 60px; padding: 0 20px; }
        .tabs-header { display: flex; overflow-x: auto; border-bottom: 2px solid #eee; margin-bottom: 20px; white-space: nowrap; gap: 10px; padding-bottom: 5px; }
        .tab-btn { padding: 10px 20px; font-size: 1rem; font-weight: 700; color: #888; border: none; background: none; border-bottom: 3px solid transparent; cursor: pointer; }
        .tab-btn.active { color: var(--dark); border-bottom-color: var(--primary); }
        .tab-content { display: none; line-height: 1.7; color: #555; font-size: 0.95rem; }
        .tab-content.active { display: block; animation: fadeIn 0.4s; }
        
        .specs-table { width: 100%; border-collapse: collapse; }
        .specs-table th, .specs-table td { padding: 12px; border-bottom: 1px solid #eee; text-align: right; font-size: 0.9rem; }
        .specs-table th { width: 35%; background: #f9f9f9; font-weight: 700; }

        .related-section { background: #f4f4f4; padding: 40px 20px; margin-bottom: 60px; }
        .related-title { text-align: center; font-size: 1.5rem; font-weight: 900; margin-bottom: 30px; }
        .related-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; max-width: 1200px; margin: 0 auto; }
        .r-card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .r-img { width: 100%; height: 150px; object-fit: contain; background: #fff; padding: 10px; }
        .r-body { padding: 10px; text-align: center; }
        .r-title { font-weight: 700; font-size: 0.9rem; margin-bottom: 5px; color: var(--dark); height: 40px; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .r-price { color: var(--primary); font-weight: 800; font-size: 1rem; }

        /* Fake Popup */
        .sales-popup {
            position: fixed; bottom: 20px; right: 20px; z-index: 1500;
            background: #fff; padding: 12px; border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15); border-right: 4px solid var(--primary);
            display: flex; align-items: center; gap: 10px;
            transform: translateY(150%); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .sales-popup.show { transform: translateY(0); }
        .sales-popup img { width: 45px; height: 45px; border-radius: 4px; object-fit: contain; background: #f4f4f4; }
        .sales-text { font-size: 0.85rem; line-height: 1.3; }

        /* WhatsApp Floating */
        .whatsapp-float {
            position: fixed; bottom: 20px; left: 20px; width: 55px; height: 55px;
            background-color: var(--whatsapp); color: #FFF; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 2000;
        }
        .whatsapp-icon { width: 30px; height: 30px; fill: white; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <header class="floating-header">
        <a href="index.html" class="back-btn">&#8594; <span>Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØªØ¬Ø±</span></a>
        <div class="logo">Prumysl</div>
        <div style="width: 20px;"></div> 
    </header>

    <div class="breadcrumbs">
        Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© / ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© / <span id="bread-title">...</span>
    </div>

    <div class="product-container">
        
        <div class="product-gallery">
            <div class="main-img-wrap">
                <img id="main-img" src="" alt="Product" class="main-img">
            </div>
            <div class="thumbnails" id="thumbs-container">
                </div>
        </div>

        <div class="product-info">
            <span class="product-category">SOLAR CAMERAS</span>
            <h1 id="p-title" class="product-title">...</h1>
            
            <div class="reviews-summary">
                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                <span>4.9 (142 ØªÙ‚ÙŠÙŠÙ…)</span>
            </div>

            <div class="price-box">
                <span id="p-price" class="current-price">...</span>
                <span id="p-old-price" class="old-price">...</span>
                <span class="discount-tag">ØªÙˆÙÙŠØ± 20%</span>
            </div>

            <div class="timer-box">
                <span>ğŸ”¥ Ø¹Ø±Ø¶ Ù…Ø­Ø¯ÙˆØ¯! ÙŠÙ†ØªÙ‡ÙŠ Ø®Ù„Ø§Ù„:</span>
                <span class="countdown-digits" id="countdown">02:00:00</span>
            </div>

            <p id="p-desc" class="product-short-desc">...</p>

            <div class="order-card" id="orderForm">
                <div class="order-header">
                    <h4>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</h4>
                    <p style="font-size:0.8rem; color:#777;">Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù† ğŸ‡²ğŸ‡¦</p>
                </div>
                <form onsubmit="submitOrder(event)">
                    <div class="form-group">
                        <input type="text" class="form-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-input" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                    </div>
                    <div class="form-group">
                        <input type="tel" class="form-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (06...)" required>
                    </div>
                    <button type="submit" class="submit-btn">
                        <span>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</span>
                        <span>&#8592;</span>
                    </button>
                </form>

                <div class="trust-icons">
                    <div class="t-icon"><span>ğŸ›¡ï¸</span><span>Ø¶Ù…Ø§Ù† Ø³Ù†Ø©</span></div>
                    <div class="t-icon"><span>ğŸšš</span><span>Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ</span></div>
                    <div class="t-icon"><span>ğŸ“</span><span>Ø¯Ø¹Ù… ÙÙ†ÙŠ</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="tabs-container">
        <div class="tabs-header">
            <button class="tab-btn active" onclick="switchTab('desc')">Ø§Ù„ÙˆØµÙ</button>
            <button class="tab-btn" onclick="switchTab('specs')">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª</button>
            <button class="tab-btn" onclick="switchTab('shipping')">Ø§Ù„Ø´Ø­Ù†</button>
        </div>

        <div id="tab-desc" class="tab-content active">
            <p id="full-desc-text">...</p>
        </div>

        <div id="tab-specs" class="tab-content">
            <table class="specs-table">
                <tbody id="specs-body"></tbody>
            </table>
        </div>

        <div id="tab-shipping" class="tab-content">
            <p><strong>Ø§Ù„ØªÙˆØµÙŠÙ„:</strong> Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø´Ø­Ù† Ø¹Ø¨Ø± Ø£Ù…Ø§Ù†Ø© Ø¥ÙƒØ³Ø¨Ø±ÙŠØ³ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø©.</p>
            <p><strong>Ø§Ù„Ø¶Ù…Ø§Ù†:</strong> Ø¶Ù…Ø§Ù† Ø´Ø§Ù…Ù„ Ù„Ù…Ø¯Ø© Ø³Ù†Ø© (12 Ø´Ù‡Ø±Ø§Ù‹).</p>
        </div>
    </div>

    <section class="related-section">
        <h2 class="related-title">Ù‚Ø¯ ÙŠØ¹Ø¬Ø¨Ùƒ Ø£ÙŠØ¶Ø§Ù‹</h2>
        <div class="related-grid" id="related-grid"></div>
    </section>

    <div class="mobile-sticky-bar">
        <div class="m-price-box">
            <span class="m-price-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
            <div id="m-price" class="m-price">...</div>
        </div>
        <div class="m-actions">
            <a href="#" id="wa-btn-mobile" target="_blank" class="m-wa-btn">
                <svg viewBox="0 0 32 32"><path d="M16 2C8.269 2 2 8.269 2 16c0 2.485.643 4.821 1.764 6.845L2.1 29.9l7.247-1.62C11.306 29.357 13.585 30 16 30c7.731 0 14-6.269 14-14S23.731 2 16 2zm0 25.867c-2.14 0-4.162-.57-5.918-1.564l-.424-.24-4.398.983 1.01-4.29-.264-.442A11.82 11.82 0 014.133 16c0-6.543 5.324-11.867 11.867-11.867S27.867 9.457 27.867 16 22.543 27.867 16 27.867zm6.524-8.875c-.356-.178-2.112-1.04-2.438-1.16-.326-.118-.564-.178-.802.179-.237.356-.92 1.159-1.128 1.396-.208.238-.416.267-.772.089-.356-.178-1.504-.555-2.865-1.769-1.059-.945-1.774-2.112-1.982-2.468-.208-.356-.022-.549.156-.727.16-.159.356-.416.535-.624.178-.208.237-.356.356-.594.119-.238.059-.446-.03-.624-.089-.178-.802-1.933-1.098-2.646-.29-.696-.584-.6-.802-.612-.207-.012-.445-.012-.683-.012-.237 0-.623.089-.95.446-.326.356-1.247 1.218-1.247 2.97 0 1.753 1.277 3.447 1.455 3.685.178.238 2.513 3.838 6.088 5.381.85.367 1.513.586 2.031.751.854.272 1.632.234 2.245.142.684-.103 2.112-.862 2.408-1.694.297-.832.297-1.545.208-1.694-.089-.149-.327-.238-.683-.416z"/></svg>
            </a>
            <a href="#orderForm" class="m-btn">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a>
        </div>
    </div>

    <div id="sales-popup" class="sales-popup">
        <img id="popup-img" src="" alt="Sold Product">
        <div class="sales-text">
            <strong>Ø´Ø®Øµ Ù…Ø§ ÙÙŠ <span id="popup-city">...</span></strong>
            Ø§Ø´ØªØ±Ù‰ <span id="popup-product">...</span>
        </div>
    </div>

    <a href="https://wa.me/212600000000" class="whatsapp-float" target="_blank">
        <svg viewBox="0 0 32 32" class="whatsapp-icon"><path d="M16 2C8.268 2 2 8.268 2 16c0 2.475.642 4.85 1.863 6.963L2.3 29.7l6.9-1.808A13.926 13.926 0 0016 30c7.732 0 14-6.268 14-14S23.732 2 16 2z"/></svg>
    </a>

    <script>
        // --- 1. PRODUCT DATABASE ---
        const products = {
            1: {
                title: "Prumysl Omni-Guard 360Â°",
                price: "1200 DH",
                oldPrice: "1500 DH",
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø´Ù…Ø³ÙŠØ© 4G Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø§Øª PTZ Ø£Ø±ÙØ§Ø¯ÙŠØ³ â€“ 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ Ùˆ3 Ø´Ø§Ø´Ø§Øª Ø­ÙŠÙ‘Ø©.",
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ù…Ø³ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø«Ù„Ø§Ø« Ø¹Ø¯Ø³Ø§Øª PTZ Ù…Ø¯Ù…Ø¬Ø© ÙÙŠ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ØŒ ÙƒÙ„ Ø¹Ø¯Ø³Ø© ØªØªØ­ÙƒÙ… ÙÙŠÙ‡Ø§ Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙØŒ Ø¨Ø¯Ù‚Ù‘Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„. ØªØ¹Ù…Ù„ Ø¨Ø´Ø±ÙŠØ­Ø© 4G Ù„ØªØ¹Ø·ÙŠÙƒ Ù…Ø±Ø§Ù‚Ø¨Ø© 360Â° Ø¨Ù„Ø§ Ù†Ù‚Ø§Ø· Ø¹Ù…ÙŠØ§Ø¡.",
                images: [
                    "img/Prumysl Omni-Guard 360Â°/Prumysl Omni-Guard 360Â°-main.jpg",
                    "img/Prumysl Omni-Guard 360Â°/Prumysl Omni-Guard 360Â°-thumb-2.jpg"
                ],
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "15MP (3 Lenses)", "Ø§Ù„Ø§ØªØµØ§Ù„": "4G Sim", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh", "Ø§Ù„Ø·Ø§Ù‚Ø©": "16W Solar" }
            },
            2: {
                title: "Prumysl Vision 6K Pro",
                price: "1100 DH",
                oldPrice: "1350 DH",
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø´Ù…Ø³ÙŠØ© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø§Øª 4GØŒ Ø¯Ù‚Ø© 6K ÙˆØ²ÙˆÙˆÙ… Ø±Ù‚Ù…ÙŠ 10X.",
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ù€3 Ø¹Ø¯Ø³Ø§Øª Ùˆ3 Ø´Ø§Ø´Ø§Øª ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. Ø¯Ù‚Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ 6K Ù…Ø¹ Ø²ÙˆÙˆÙ… Ø±Ù‚Ù…ÙŠ 10X Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø©.",
                images: [
                    "img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-main.jpg",
                    "img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-thumb-1.jpg",
                    "img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-thumb-2.jpg"
                ],
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "6K (15MP)", "Ø§Ù„Ø²ÙˆÙˆÙ…": "10X Digital", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh", "Ø§Ù„Ø§ØªØµØ§Ù„": "4G LTE" }
            },
            3: {
                title: "Prumysl Euro-Shield",
                price: "899 DH",
                oldPrice: "1100 DH",
                desc: "Ù†Ø³Ø®Ø© Ø£ÙˆØ±ÙˆØ¨ÙŠØ© Ù…ØªØ·ÙˆØ±Ø©ØŒ Ù„ÙˆØ­ÙŠÙ† Ù„Ù„Ø·Ø§Ù‚Ø© ÙˆØ¨Ø·Ø§Ø±ÙŠØ© Ù…Ø¯Ù…Ø¬Ø©.",
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ù…Ø³ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ø¨Ù„ÙˆØ­ÙŠÙ† Ù„Ù„Ø·Ø§Ù‚Ø© ÙˆØ¨Ø·Ø§Ø±ÙŠØ© Ù…Ø¯Ù…Ø¬Ø©ØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§ Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„ÙÙ„Ù„ ÙˆØ§Ù„Ø¶ÙŠØ¹Ø§Øª.",
                images: [
                    "img/Prumysl Euro-Shield/Prumysl Euro-Shield-main.jpg",
                    "img/Prumysl Euro-Shield/Prumysl Euro-Shield-thumb-1.jpg",
                    "img/Prumysl Euro-Shield/Prumysl Euro-Shield-thumb-2.jpg"
                ],
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "Full HD", "Ø§Ù„Ø·Ø§Ù‚Ø©": "Dual Panel", "Ø§Ù„Ø§ØªØµØ§Ù„": "4G", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "Long Life" }
            },
            4: {
                title: "Prumysl Duo 18W",
                price: "699 DH",
                oldPrice: "850 DH",
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø© Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§ÙƒØŒ 15MP ÙˆÙ„ÙˆØ­ÙŠÙ† 18W.",
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø°ÙƒÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø©ØŒ Ø¨Ø¯Ù‚Ù‘Ø© 10 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ØŒ Ø¨Ø·Ø§Ø±ÙŠØ© 8000mAhØŒ ÙˆØ¹Ø¯Ø³ØªÙŠÙ† (Ø«Ø§Ø¨ØªØ© + PTZ).",
                images: [
                    "img/Prumysl Duo 18W/Prumysl Duo 18W-main.jpg",
                    "img/Prumysl Duo 18W/Prumysl Duo 18W-thumb-1.jpg",
                    "img/Prumysl Duo 18W/Prumysl Duo 18W-thumb-2.jpg"
                ],
                specs: { "Ø§Ù„Ø¹Ø¯Ø³Ø§Øª": "Dual Lens", "Ø§Ù„Ø·Ø§Ù‚Ø©": "18W Solar", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh", "Ø§Ù„Ø®ÙŠØ§Ø±": "WiFi/4G" }
            },
            5: {
                title: "Prumysl Falcon 36X",
                price: "2800 DH",
                oldPrice: "3400 DH",
                desc: "Ø§Ù„ÙˆØ­Ø´ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ: 24MPØŒ Ø²ÙˆÙˆÙ… Ø¨ØµØ±ÙŠ 36X ÙˆØ¨Ø·Ø§Ø±ÙŠØ© 12000mAh.",
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ù…Ø³ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ø¨Ø¹Ø¯Ø³ØªÙŠÙ†ØŒ Ø¯Ù‚Ù‘Ø© 24 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ØŒ Ø²ÙˆÙˆÙ… Ø¨ØµØ±ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ 36X ÙŠÙ‚Ø±Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø© Ø¨ÙˆØ¶ÙˆØ­ ØªØ§Ù….",
                images: [
                    "img/Prumysl Falcon 36X/Prumysl Falcon 36X-main.jpg",
                    "img/Prumysl Falcon 36X/Prumysl Falcon 36X-thumb-1.jpg",
                    "img/Prumysl Falcon 36X/Prumysl Falcon 36X-thumb-2.jpg"
                ],
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "24MP Ultra HD", "Ø§Ù„Ø²ÙˆÙˆÙ…": "36X Optical", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "12000 mAh", "Ø§Ù„Ù‡ÙŠÙƒÙ„": "Metal" }
            },
            'batteries': {
                title: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª ØµÙ†Ø§Ø¹ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø´Ø­Ù†",
                price: "149 DH",
                oldPrice: "199 DH",
                desc: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ù„ÙŠØ«ÙŠÙˆÙ… Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ØªØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹ (Ù‚Ø·Ø¹ØªÙŠÙ†).",
                fullDesc: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ù„ÙŠØ«ÙŠÙˆÙ… Ø£ÙŠÙˆÙ† Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø´Ø­Ù†ØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙŠ ØªØ³ØªÙ‡Ù„Ùƒ Ø·Ø§Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ø«Ù„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ø´Ù…Ø³ÙŠØ©.",
                images: [
                    "img/OFFER-1.jpg",
                    "img/OFFER-2.jpg",
                    "img/Rechargeable-batteries.png"
                ],
                specs: { "Ø§Ù„Ù†ÙˆØ¹": "Lithium Ion", "Ø§Ù„Ø³Ø¹Ø©": "High Capacity", "Ø§Ù„Ø¹Ø¯Ø¯": "2/4 Pcs", "Ø§Ù„ØªÙˆØ§ÙÙ‚": "Universal" }
            }
        };

        // --- 2. INIT PAGE ---
        const params = new URLSearchParams(window.location.search);
        let pid = params.get('id') || 1; 
        const product = products[pid];

        if(product) {
            document.title = product.title;
            document.getElementById('bread-title').innerText = product.title;
            document.getElementById('p-title').innerText = product.title;
            document.getElementById('p-price').innerText = product.price;
            document.getElementById('m-price').innerText = product.price;
            document.getElementById('p-old-price').innerText = product.oldPrice;
            document.getElementById('p-desc').innerText = product.desc;
            document.getElementById('full-desc-text').innerText = product.fullDesc;

            const waLink = `https://wa.me/212600000000?text=${encodeURIComponent('Hello, I want: ' + product.title)}`;
            document.getElementById('wa-btn-mobile').href = waLink;

            // Gallery
            const mainImg = document.getElementById('main-img');
            const thumbsCont = document.getElementById('thumbs-container');
            
            if(product.images.length > 0) {
                mainImg.src = product.images[0];
                product.images.forEach((src, idx) => {
                    let img = document.createElement('img');
                    img.src = src;
                    img.className = idx === 0 ? 'thumb active' : 'thumb';
                    img.onclick = () => {
                        mainImg.src = src;
                        document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
                        img.classList.add('active');
                    };
                    thumbsCont.appendChild(img);
                });
            }

            // Specs
            const specsBody = document.getElementById('specs-body');
            for (const [key, value] of Object.entries(product.specs)) {
                specsBody.innerHTML += `<tr><th>${key}</th><td>${value}</td></tr>`;
            }

            // Related
            const relatedGrid = document.getElementById('related-grid');
            let count = 0;
            for (const [key, p] of Object.entries(products)) {
                if (key !== pid && count < 4) { // Show 4 on mobile grid
                    relatedGrid.innerHTML += `
                        <div class="r-card">
                            <a href="product.html?id=${key}">
                                <img src="${p.images[0]}" class="r-img">
                                <div class="r-body">
                                    <div class="r-title">${p.title}</div>
                                    <div class="r-price">${p.price}</div>
                                </div>
                            </a>
                        </div>`;
                    count++;
                }
            }
        }

        // --- 3. UTILS ---
        function switchTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-' + tabName).classList.add('active');
        }

        function submitOrder(e) {
            e.preventDefault();
            alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­.");
        }

        // Countdown & Popup
        setInterval(() => {
            const d = new Date();
            const h = 23 - d.getHours();
            const m = 59 - d.getMinutes();
            document.getElementById('countdown').innerText = `${h}h : ${m}m`;
        }, 1000);

        setTimeout(() => {
            const popup = document.getElementById('sales-popup');
            document.getElementById('popup-city').innerText = "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡";
            document.getElementById('popup-product').innerText = product ? product.title : "ÙƒØ§Ù…ÙŠØ±Ø§ Ø´Ù…Ø³ÙŠØ©";
            if(product) document.getElementById('popup-img').src = product.images[0];
            popup.classList.add('show');
            setTimeout(() => popup.classList.remove('show'), 4000);
        }, 5000);

    </script>
</body>
</html>
